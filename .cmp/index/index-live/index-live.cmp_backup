[{"meta":{"date":"2017-5-20","name":"u-live-item","pageFTL":"","pageJS":"","pageCacheJS":""},"viewport":{"width":1440,"height":800},"elements":[{"eid":196,"type":"","properties":{"id":"u-live-item-container","rid":"","typeStr":"","displayStr":"","width":400,"height":"42","left":0,"top":0,"zIndex":0,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":false,"backgroundColor":16777215,"backgroundAlpha":1,"backgroundImageType":"none","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0,"marginTop":"20","marginRight":"0","marginBottom":"0","marginLeft":"0","hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"","boxClassStr":"cmp-element cmp-element u-live-item-container","overflow":false,"hover":false,"hoverComponent":"","hoverStr":"","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","color":"#ffffff","border":true,"classStr":"cmp-element cmp-element","include":"","overflowX":false,"overflowY":false}},{"eid":197,"type":"TEXT","properties":{"id":"u-live-item-title","rid":"","typeStr":"TEXT","displayStr":"","width":"280","height":"19","left":"10","top":0,"boxFontSize":0,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":false,"backgroundColor":16777215,"backgroundAlpha":1,"backgroundImageType":"none","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0,"hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"{item.liveRoomLink}","boxClassStr":"cmp-element cmp-text u-live-item-title","overflow":false,"hover":"","hoverComponent":"","hoverStr":"cursor:pointer","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","text":"{item.name}","html":"","fontFamily":"微软雅黑,Microsoft YaHei","fontSize":14,"color":"#333","horzontalAlign":"left","verticleAlign":"middle","lineHeight":19,"lineClamp":1,"classStr":""}},{"eid":198,"type":"TEXT","properties":{"id":"u-live-item-time","rid":"","typeStr":"TEXT","displayStr":"","width":"280","height":"19","left":"10","top":"22","boxFontSize":0,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":false,"backgroundColor":16777215,"backgroundAlpha":1,"backgroundImageType":"none","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0,"hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"","boxClassStr":"cmp-element cmp-text u-live-item-time","overflow":false,"hover":"","hoverComponent":"","hoverStr":"","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","text":"{item.liveStartTime| formatTime:'MM-dd HH:mm'}","html":"","fontFamily":"微软雅黑,Microsoft YaHei","fontSize":14,"color":"#666","horzontalAlign":"left","verticleAlign":"middle","lineHeight":19,"lineClamp":1,"classStr":""}}],"assets":{}},{"meta":{"date":"2017-5-20","name":"index-live","componentJS":"/**\n * indexLive 组件实现文件\n *\n * @module   indexLive\n */\nNEJ.define([\n    'text!./component.html',\n    'css!./component.css',\n    'pool/component-base/src/base',\n    'pool/component-base/src/util',\n    'base/element',\n    'base/event',\n    'pool/../common/filters/index'\n], function(\n\thtml,\n    css,\n    Component,\n    util,\n    e,\n    v\n    \n) {\n\n    /**\n     * indexLive 组件\n     *\n     * @class   module:indexLive\n     * @extends module:pool/component-base/src/base.Component\n     *\n     * @param {Object} options      - 组件构造参数\n     * @param {Object} options.data - 与视图关联的数据模型\n     */\n    var indexLive = Component.$extends({\n        name: 'index-live',\n        css: css,\n        template: html,\n        /**\n         * 模板编译前用来初始化参数\n         *\n         * @protected\n         * @method  module:indexLive#config\n         * @returns {void}\n         */\n        config: function() {\n            // FIXME 设置组件配置信息的默认值\n            util.extend(this, {\n\n            });\n            // FIXME 设置组件视图模型的默认值\n            util.extend(this.data, {\n               \n\n            });\n\n            this.supr();\n            // TODO\n        },\n        computed: {\n            $$cls: {\n              get: function(data){\n                return (data.liveList && data.liveList.length > 0)?\"\":\"f-dn\";\n              },\n              set: function(value, data){\n                \n              }\n            }\n          },\n\n        /**\n         * 模板编译之后(即活动dom已经产生)处理逻辑，可以在这里处理一些与dom相关的逻辑\n         *\n         * @protected\n         * @method  module:indexLive#init\n         * @returns {void}\n         */\n        init: function() {\n            // TODO\n            this.supr();\n\t\t\t\n            \n\n        },\n\n        /**\n         * 组件销毁策略，如果有使用第三方组件务必在此先销毁第三方组件再销毁自己\n         *\n         * @protected\n         * @method  module:indexLive#destroy\n         * @returns {void}\n         */\n        destroy: function() {\n            // TODO\n            this.supr();\n        }\n    });\n\n    return indexLive;\n});\n","cacheJS":"/**\n * ----------------------------------------------------------\n * index-live接口\n * \n * @module   index-live\n * ----------------------------------------------------------\n */\nNEJ.define([\n    'pro/common/cache/cache',\n    'pro/common/cache/dwr',\n    'base/util'\n], function(_cache, _dwr, _util, _p) {\n    /**\n     * getLiveData\n     * @param  {Object} _data\n     */\n    _p._$getLiveData = function (_data, _onLoad) {\n        _cache._$request({\n            url: '//www.icourse163.org/web/j/commonBean.obtain.rpc',\n            method: 'post',\n            data: _data,\n            onload: _onLoad,\n            notShowLoading: true\n        });\n    };\n    /**\n     * getLiveListData\n     * @param  {Object} _data\n     */\n    _p._$getLiveListData = function (_data, _onLoad) {\n        _cache._$request({\n            url: '//www.icourse163.org/web/j/indexBean.getKaoyanLives.rpc',\n            method: 'post',\n            data: _data,\n            onload: _onLoad,\n            notShowLoading: true\n        });\n    };\n\n});\n","pageFTL":"","pageJS":"","uiJS":"/**\n * indexLive 组件带默认UI实现文件\n *\n * @module   indexLive\n */\nNEJ.define([\n    './component.js',\n    'text!./component.html',\n    'text!./component.css'\n    , './cache.js'\n], function (\n    Component,\n    html,\n    css\n    , indexLiveCache\n) {\n        /**\n         * indexLive UI组件\n         *\n         *\n         * @param {Object} options\n         * @param {Object} options.data 与视图关联的数据模型\n         */\n        var UxComponent = Component.$extends({\n            name: 'index-live',\n            css: css,\n            template: html,\n            init:function(){\n                /**\n                 * 获取直播背景\n                 */\n                indexLiveCache._$getLiveData({ key: \"kaoyan-index-liveBackUrl\" }, function (_data) {\n                    if (_data) {\n                        this.data.liveBack = _data;\n                        this.$update();\n                    }\n                }._$bind(this));\n                /**\n                 * 获取直播列表\n                 */\n                indexLiveCache._$getLiveListData({ key: \"kaoyan-index-liveRecomend\" }, function (_data) {\n                    if (_data) {\n                        this.data.liveList = _data;\n                        this.$update();\n                    }\n                }._$bind(this));\n            }\n        });\n        return UxComponent;\n    });\n","pageCacheJS":"","testCaseApi":"/**\n * Test the component API. expReturn is the function return\n * *example:\n * {\n *     \"data\": {\n *         \"index\": 14,\n *         \"total\": 15\n *     },\n *     \"api\": \"api name\",\n *     \"params\": [1],\n *     \"expReturn\": \"wqeqw\",\n *     \"expPro\": {\n *         \"index\": 13,\n *         \"total\": 15,\n *         \"from\": 10,\n *         \"to\": 14\n *     },\n *     \"expCpt\": {\n *         \"hasPrev\": true,\n *         \"hasNext\": true,\n *         \"hasLeftSep\": true\n *     }\n * }\n */\nNEJ.define([], function () {\n    return [];\n});\n","testCaseEvt":"/**\n * Test component event, \n * trigger: trigger param, trigger[0] is the event name, trigger[1] is the param;\n * * example:\n * {\n *     \"targetEvt\": \"destroy\",\n *     \"data\": {\n *         \"index\": 14,\n *         \"total\": 15\n *     },\n *     \"trigger\": [\"go\", 1],\n *     \"expEvt\": {\n *         \"last\": 14,\n *         \"index\": 1,\n *         \"total\": 15\n *     }\n * }\n */\nNEJ.define([], function () {\n    return [{\n        \"targetEvt\": \"destroy\",\n        \"data\": {\n            liveList:[]\n        },\n        \"trigger\": [\"destroy\"],\n        \"expEvt\": undefined\n    }];\n});\n","testCaseIns":"/**\n * Test component instance case and UI case.UIAct & UITrigger & UIResult used in UI Test。\n * staticInsApi: if the component has static api to generate it's instance, this is the static api name.\n * UIAct: UI test description. \n * UITrigger: UITrigger for animate UI operation, UITrigger[0] for element selector, UITrigger[1] for event name. \n * UIResult: UIResult to checkout the result after act. UIResult['hasClass'] is to check has specific className or not, UIResult['hasClass'] is two level array, the item is a small array which has 3 elements, item[0] is the element selector, item[1] means has or hasn't, 1 for has, 0 for hasn't. item[2] is the className. UIResult['hasStyle'] is the same, but the item[2] has the style name and the corresponding style value. \n ** example:\n * {\n *     \"staticInsApi\": \"static api name, if not ,leave it blank\",\n *     \"data\": {\n *     },\n *     \"UIAct\":\"has pager or click close icon\",\n *     \"UITrigger\": [\".u-st-cert\", \"click\"],\n *     \"UIResult\": { \n *          \"hasClass\": [[\".u-st-cert\", 1, \"f-dn\"],[\".u-st-cert\", 1, \"f-dn\"]],\n *          \"hasStyle\": [[\".u-st-cert\", 0, \"color:red\"],[\".u-st-cert\", 1, \"color:red\"]],\n *      },\n *     \"expPro\": {\n *         \"title\": \"\",\n *         \"content\": \"\"\n *     },\n *     \"expCpt\": {\n *         \"title\": \"\"\n *     }\n * }\n *\n */\nNEJ.define([], function () {\n    return [{\n        \"data\": {\n            \"liveBack\": \"http://nos.netease.com/edu-image/3b24d1b3-8d21-452b-8b53-2894d50cb4b7.jpg?imageView&quality=100\",\n            \"liveList\": [{\n                \"title\": \"直播\",\n                \"time\": \"1494495588453\"\n            },\n            {\n                \"title\": \"直播直播直播直播直播直播直播直播直播直播直播\",\n                \"time\": \"1494495588453\"\n            },\n            {\n                \"title\": \"直播\",\n                \"time\": \"1494495588453\"\n            }],\n            \"formatTime\": \"\"\n        }\n    }];\n});\n"},"viewport":{"width":1440,"height":600,"backColor":"#eee"},"elements":[{"eid":238,"type":"","properties":{"id":"index-live-container","rid":"","typeStr":"","displayStr":"","width":"300","height":"260","left":0,"top":0,"zIndex":0,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":false,"backgroundColor":16777215,"backgroundAlpha":1,"backgroundImageType":"file","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0,"hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"","boxClassStr":"cmp-element cmp-element live-box-container {$$cls}","overflow":false,"hover":false,"hoverComponent":"","hoverStr":"","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","color":"#ffffff","border":true,"classStr":"cmp-element cmp-element","include":"","overflowX":false,"overflowY":false}},{"eid":239,"type":"IMAGE","properties":{"id":"live-back","rid":"","typeStr":"IMAGE","displayStr":"","width":"300","height":"260","left":0,"top":0,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":false,"backgroundColor":16777215,"backgroundAlpha":1,"backgroundImageType":"none","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0,"hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"","boxClassStr":"cmp-element cmp-image live-back","overflow":false,"hover":"","hoverComponent":"","hoverStr":"","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","src":"{liveBack}","alt":"","classStr":""}},{"eid":240,"type":"TEXT","properties":{"id":"live-title","rid":"","typeStr":"TEXT","displayStr":"","width":"56","height":"24","left":"10","top":"13","zIndex":1,"boxFontSize":0,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":true,"backgroundColor":5737471,"backgroundAlpha":1,"backgroundImageType":"none","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":12,"borderTopRightRadius":12,"borderBottomRightRadius":12,"borderBottomLeftRadius":12,"hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"","boxClassStr":"cmp-element cmp-text live-title","overflow":false,"hover":"","hoverComponent":"","hoverStr":"","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","text":"&nbsp;&nbsp;&nbsp;直播","html":"","fontFamily":"微软雅黑,Microsoft YaHei","fontSize":14,"color":"#fff","horzontalAlign":"center","verticleAlign":"middle","lineHeight":24,"lineClamp":0,"classStr":""}},{"eid":241,"type":"TEXT","properties":{"id":"live-dot","rid":"","typeStr":"TEXT","displayStr":"","width":"10","height":"24","left":13,"top":"13","zIndex":1,"boxFontSize":0,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":false,"backgroundColor":5737471,"backgroundAlpha":1,"backgroundImageType":"none","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0,"hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"","boxClassStr":"cmp-element cmp-text live-dot","overflow":false,"hover":"","hoverComponent":"","hoverStr":"","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","text":"·","html":"","fontFamily":"微软雅黑,Microsoft YaHei","fontSize":60,"color":"#ffffff","horzontalAlign":"center","verticleAlign":"middle","lineHeight":18,"lineClamp":0,"classStr":""}},{"eid":242,"type":"FUNC","properties":{"id":"live-content","rid":"","typeStr":"FUNC","displayStr":"","width":"300","height":216,"left":0,"top":44,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":false,"backgroundColor":16777215,"backgroundAlpha":1,"backgroundImageType":"none","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0,"hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"","boxClassStr":"cmp-element cmp-func live-content","overflow":"overflowXY","hover":"","hoverComponent":"","hoverStr":"","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","text":"函数","funcType":"FOR","funcLanguage":"Regular","ifFuncItem":"","trueFuncBody":"","elseIfSwitch":false,"elseIfFuncItem":"","elseIfFuncBody":"","elseIfSwitch2":false,"elseIfFuncItem2":"","elseIfFuncBody2":"","falseFuncBody":"","forFuncItem":"liveList","forFuncBody":"u-live-item","requestName":"","requestUrl":"","requestType":"post","requestParam":"{}","onLoadFunc":"","includeBody":""}},{"eid":246,"type":"FUNC","properties":{"id":"live-cache","rid":"","typeStr":"FUNC","displayStr":"","width":100,"height":100,"left":0,"top":0,"borderStyle":"","borderTop":0,"borderRight":0,"borderBottom":0,"borderLeft":0,"borderColor":5617961,"borderAlpha":1,"background":false,"backgroundColor":16777215,"backgroundAlpha":1,"backgroundImageType":"none","backgroundGradientStops":[{"percent":0,"color":"rgba(255, 255, 255, 1)"},{"percent":1,"color":"rgba(0, 0, 0, 1)"}],"backgroundGradientAngle":180,"backgroundImageStr":"","borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0,"hasShadow":false,"shadowOffsetX":0,"shadowOffsetY":0,"shadowBlur":10,"shadowColor":0,"shadowColorAlpha":1,"newBlank":false,"targetUrl":"","boxClassStr":"cmp-element cmp-func live-cache","overflow":false,"hover":"","hoverComponent":"","hoverStr":"","titleStr":"","animateStr":"none","dataCate":"","dataAction":"","dataLabel":"","positionStr":"absolute","floatStr":"","eventName":"","eventHandler":"","text":"函数","funcType":"CACHE","funcLanguage":"JS","ifFuncItem":"","trueFuncBody":"","elseIfSwitch":false,"elseIfFuncItem":"","elseIfFuncBody":"","elseIfSwitch2":false,"elseIfFuncItem2":"","elseIfFuncBody2":"","falseFuncBody":"","forFuncItem":"","forFuncBody":"","requestName":"getLiveData","requestUrl":"/web/j/commonBean.obtain.rpc","requestType":"post","requestParam":"{key:\"kaoyan-index-liveBackUrl\"}","onLoadFunc":"","includeBody":""}}],"assets":{}}]